> Vite와 Webpack에 대한 정리</br>
> velog URL : https://velog.io/@jjjiyoung0130/Vite%EC%99%80-WebPack%EC%9D%98-%EB%B9%8C%EB%93%9C

### 빌드란?

배포를 하기 위한 선행 과정으로 작성한 코드와 애플리케이션이 사용하는 이미지, CSS 등을 모두 모아서 패키징하는 작업

### 빌드 도구란?

빌드 도구를 활용하여 애플리케이션을 실행할 수 있는 최소 단위의 파일로 코드를 묶고 편리하게 배포할 수 있도록 하는데 사용된다.

코드를 `빌드 > 번들링 > 최적화 > 테스트 > 배포` 하는데 사용된다.

**모듈관리가 필요한 이유는?**

- JS는 재사용이 편리한 모듈로 작성되지만, 다른 모듈에 의존하거나 의존한 모듈이 다시 다른 모듈을 의존하기도 한다. (의존 관계 추적 불편)
- JS는 기본적으로 전역 범위로 어디서든 접근 가능하다.
- 같은 이름의 변수가 의도치 않은 값을 할당할 수 있고, 이로 인해 큰 버그로 이어질 수 있다.

⇒ 따라서 파일 단위로 모듈화가 필요하며, 이를 해결하기 위해 AMD, Common.js, ES6 Module 같은 라이브러리가 등장했고 “Webpack”은 이 세 가지 모두를 지원한다.

### Webpack이란?

최신 프론트엔드 프레임워크에서 가장 많이 사용되는 모듈 번들러(Module Bundler)이다.

JS 파일을 `번들링 > 최적화 > 테스트 > 배포` 하는데 사용된다.

entry, output, loader, plugin 등의 개념을 사용하여 프로젝트를 구성한다

다양한 loader와 plugin을 제공하여 프로젝트의 요구사항에 따라 선택할 수 있다.

Hot Module Replacement (HMR)을 지원하여 더욱 빠른 개발 속도를 제공한다.

React, Angular, Vue.js 등의 프레임워크와 함께 사용할 수 있다.

하나의 웹 서비스를 구성하는 파일들을 해석한 다음 하나의 파일로 합쳐주는 역할을 한다.

웹에서 사용하는 모든 자원에 대해 영향을 미칠 수 있는 도구이다.

프론트엔드 개발자가 코드를 더욱 효율적으로 작성할 수 있도록 지원하며, 애플리케이션의 성능을 최적화할 수 있다.

Entry 포인트를 시작으로, 의존적인 모듈을 전부 찾아내서 하나의 파일로 번들링

### Webpack의 역할

- 작성한 JS의 파일을 최적화하여 적은 수의 파일로 사용자 요청을 처리한다.
  ⇒ 서버 부담과 사용자가 페이지를 불러오는 시간을 줄일 수 있다.
- 프로젝트 내 모든 JS의 의존성을 분석하고 아래와 같은 작업을 수행한다.
  - 모든 의존 모듈을 올바른 순서로 불러온다.
  - 모든 의존 모듈을 한 번씩만 불러온다.
  - 자바스크립트 파일이 가능한 한 적은 파일로 묶여지게 한다. ⇒ **“정적자원”**
- 특정 상황에서만 필요한 블록을 정의할 수 있다.
  - **‘코드 분리’**와 **‘정적 자원에 대한 해시 적용 기능’**
    - 분리한 코드 블록은 다른 자원과 함께 묶이지 않고 필요한 시점에 불러올 수 있다.

⇒ 기능들을 선택적으로 적용할 수 있기에 자바스크립트와 배포를 좀 더 최적화할 수 있다.

- **_‘로더(loader)’를 이용하면 다른 정적 자원에 대한 전처리도 가능하다._**

<aside>
💡 **기능**

- **CommonJS, AMD, ES6 Module** 포맷을 모두 지원
- JS 뿐만 아니라 CSS, Image 등의 복잡한 **의존성을 관리**
- **성능 최적화**
  - 사용하지 않는 코드를 제거하는 **Tree Shaking** 같은 최적화를 수행
  - HTTP 요청 수가 감소하여 네트워크 비용이 감소
- **Code Splitting**
  - 원하는 때에 모듈을 로딩할 수 있는 Dynamic Loading, Lazy Loading이 가능

---

**장점**

- 로딩에 대한 **네트워크 비용이 감소**
- 모듈 단위로 개발이 가능하기 때문에 **가독성이 높아지고 유지보수가 쉽다.**
- **최신 JS 문법을 지원하지 않는 브라우저에**서도 사용할 수 있다.
</aside>

### Vite란?

- 자바스크립트 번들링 툴으로, **`esbuild 번들링`**을 통해 **`개발 환경에서 높은 속도`** 를 자랑한다.
- Vite는 초고속 개발 서버와 최적화된 빌드 프로세스를 제공하는 최신 빌드 도구로, 사용자가 워크플로우를 간소화하고 최종 사용자 경험을 개선할 수 있도록 지원한다.
- Vite는 기본적으로 ESM (ECMAScript Modules)을 사용하며, Rollup을 기반으로 하여 빌드한다.
- Vite는 Webpack과 같은 다른 빌드 도구와 달리, Hot Module Replacement (HMR)을 사용하여 더욱 빠른 개발 속도를 제공한다.
- Vite는 Vue.js, React, Preact, Svelte, LitElement, Stencil 등의 프레임워크와 함께 사용할 수 있다.
- Vite는 개발자가 코드를 더욱 효율적으로 작성할 수 있도록 지원하며, 애플리케이션의 성능을 최적화할 수 있다.

💡 **Webpack과 Vite의 차이점**

Vite는 최신 빌드 도구로, 초고속 개발 서버와 최적화된 빌드 프로세스를 제공한다.

Webpack은 모듈 번들러로, 2012년부터 웹 개발 커뮤니티에서 사용되어온 빌드 도구이다.

- Vite는 Webpack보다 더욱 빠른 개발 속도를 제공합니다. 이는 Vite가 ESM을 사용하고, HMR을 지원하기 때문이다.
- Webpack은 Vite보다 더 많은 로더와 플러그인을 제공합니다. 이는 Webpack이 오랜 기간동안 사용되어왔기 때문이다.
- Vite는 Vue.js 창시자인 Evan You가 만든 도구이며, Vue.js와 함께 사용할 때 더욱 효율적이다.

**[개발 서버]**

- Webpack: 소스 코드와 모든 종속 관계의 모듈을 번들링 한 후 서버가 준비됩니다.
- Vite: **`esbuild`**로 **`미리 번들링`**한 모듈을 필요할 때 동적으로 가져오기 때문에 즉각적으로 서버가 구동됩니다.
- dev-server ready time(보일러 플레이트 기준): Vite(1.8s) > Webpack(7.8s)

**[프로덕션 빌드]**

- Webpack: 각 모듈을 **`범위마다 함수로 맵핑`**하여 결합합니다.
- Vite: **`하나의 파일에 모든 종속 모듈`**을 전역 범위로 선언하여 결합합니다. 중복을 제거하기 때문에 가볍고 빠르게 빌드할 수 있습니다.
